spring.application.name=gateway
server.port=8080

# Eureka Client 설정
eureka.client.service-url.defaultZone=http://eureka-server:8761/eureka/
eureka.instance.prefer-ip-address=true
eureka.client.registry-fetch-interval-seconds=5
eureka.client.instance-info-replication-interval-seconds=5
eureka.instance.lease-renewal-interval-in-seconds=5
eureka.instance.lease-expiration-duration-in-seconds=15
eureka.client.initial-instance-info-replication-interval-seconds=5
eureka.client.eureka-server-connect-timeout-seconds=5
eureka.client.eureka-server-read-timeout-seconds=5
eureka.client.eureka-connection-idle-timeout-seconds=10
eureka.client.heartbeat-executor-thread-pool-size=2
eureka.client.cache-refresh-executor-thread-pool-size=2

# Spring Cloud Gateway 라우팅 설정
spring.cloud.gateway.discovery.locator.enabled=true
spring.cloud.gateway.discovery.locator.lower-case-service-id=true

# 각 마이크로서비스로의 라우팅 규칙
spring.cloud.gateway.routes[0].id=fe-service
spring.cloud.gateway.routes[0].uri=lb://fe
spring.cloud.gateway.routes[0].predicates[0]=Path=/fe/**
spring.cloud.gateway.routes[0].filters[0]=StripPrefix=1

spring.cloud.gateway.routes[1].id=deploy-service
spring.cloud.gateway.routes[1].uri=lb://deploy
spring.cloud.gateway.routes[1].predicates[0]=Path=/deploy/**
spring.cloud.gateway.routes[1].filters[0]=StripPrefix=1

spring.cloud.gateway.routes[2].id=user-service
spring.cloud.gateway.routes[2].uri=lb://user
spring.cloud.gateway.routes[2].predicates[0]=Path=/user/**
spring.cloud.gateway.routes[2].filters[0]=StripPrefix=1

# 기본 경로를 fe 서비스로 라우팅
spring.cloud.gateway.routes[3].id=default-route
spring.cloud.gateway.routes[3].uri=lb://fe
spring.cloud.gateway.routes[3].predicates[0]=Path=/**
